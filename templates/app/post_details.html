{% extends 'app/base.html' %} 
{% load static %}
{% load custom_tag %}
{% block content %}
	<div class="grid grid-cols-12 gap-x-5 py-4">
		<!-- Image -->
		<div class="flex col-span-6 gap-x-3">				
			<img src="/media/{{post.images.first.image}}" alt="" class="rounded-2xl"/>
		</div>
		<!-- Details -->
		<div class="col-span-6">
			<h1 class="mb-4 text-3xl font-bold">{{post.title}}</h1>
			<p class="mb-6 text-gray-600">
				{{post.content}}
			</p>
			<p class="mb-4 text-2xl font-bold text-green-600 price">{{post.price}}</p>

			<!-- Category -->
			<div class="mb-4">
				<span
					class="inline-block rounded-full bg-blue-100 px-2 py-1 text-xs font-semibold uppercase tracking-wide text-blue-800">Category:
					{{post.category}}</span>
			</div>
			
			<!-- Seller Information -->
			<div class="mb-6">
				<h2 class="mb-2 text-xl font-bold">Seller Information</h2>
				<p class="text-gray-700">{{post.creator.username}}</p>
				<p class="text-gray-700">{{post.creator.email}}</p>
				<p class="text-gray-700">{{post.creator.profile.contact}}</p>
			</div>

			<!-- Contact Seller Button -->
			<div>
				<a class="rounded-lg bg-blue-600 px-6 py-3 font-bold text-white"
					href="{% url 'messenger:private-chat' request.user.username post.creator.username%}">
					Contact Seller
				</a>
			</div>
		</div>
		</div>
		<div class="py-6 text-4xl font-bold">Related Posts</div>
		<div class="col-span-12 grid grid-cols-4 gap-x-5">
			{% for post in related_posts %}
			<div class="bg-white card cursor-pointer flex flex-col">
				{% has_image post.images.first.image.url as post_image %}
							
							<img src="{{post_image}}" alt="Product Image"
								onclick="redirectTo('{{post.slug}}')" class="aspect-[1/1] object-cover rounded-2xl mb-4" />
				<span class="hover:underline text-lg mb-2">
					{{post.title}}</span>

				<div class="flex text-2xl font-bold justify-between items-center mb-2">
					<div class="flex">
						<span>â‚¸</span>
						<p class="currency-text">{{post.price}}</p>
					</div>
				</div>

				<div class="flex justify-between text-xs text-gray-600">
					<span class="created_at" date_input='{{post.created_at.date|date:"Y-m-d"}}'
						date_input_alternative='{{post.created_at.date}}' time="{{post.created_at.time}}">
					</span>
					<span>Block {{post.block}}</span>
				</div>
			</div>
			{% endfor %}
		</div>
{% endblock content %}
{% block externals %}
<script>
	var price_el = document.querySelector('.price')
	price_el.innerText = formatCurrency(price_el.innerText)
</script>
{% endblock externals %}