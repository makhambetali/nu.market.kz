{% load static tailwind_tags %} {% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    {% tailwind_css %}
    <link rel="stylesheet" href="{% static 'css/output.css' %}" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="bg-gray-100 font-inter text-zinc-600">
    <div class="w-full bg-white shadow">
      <div class="mx-auto flex w-[1170px] items-center justify-between py-3">
        <label class="relative w-[181.66px]">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="pointer-events-none absolute right-3 top-1/2 size-6 -translate-y-1/2 transform"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"
            />
          </svg>
          <input
            type="text"
            placeholder="Search"
            class="w-[181.6px] rounded bg-zinc-200 px-3 py-[5px] placeholder:text-zinc-600 focus-visible:outline-none"
          />
        </label>

        <div>NU Market</div>
      </div>
    </div>

    <div class="mx-auto mt-2 grid max-w-[1170px] grid-cols-6 gap-4">
      <!-- menu button -->
      <div class="flex h-full max-h-96 flex-col gap-1">
        <a class="menu_button">My Account</a>
        <a class="menu_button">Marketplace</a>
        <a class="menu_button">Message</a>
        <a class="menu_button">Liked</a>
        <hr />
        <a class="menu_button" href="{% url 'app:create-post' %}">Create</a>
        <hr />
        <a class="menu_button">Log Out</a>
      </div>

      <!-- col span 2 -->
      <div class="col-span-4 grid h-[560px] grid-cols-3 flex-col gap-2.5">
        <!-- grid layout -->
        {% for post in posts %}
        <div class="flex max-h-72 flex-col rounded-lg bg-white p-2.5 shadow">
          {% static 'images/fotografie-peisaj-02.jpg' as background_image_url %}

          <div
            style="--background-image-url: url('{{ background_image_url }}')"
            class="h-40 rounded bg-[image:var(--background-image-url)] bg-cover bg-center"
          ></div>

          <a
            class="mt-3 flex h-10 items-center text-sm"
            href="{% url 'app:edit-post' post.id %}"
            >{{post.title}}</a
          >
          <div class="flex justify-between items-center">
            <h1 class="text-base font-bold text-black">
              <a href="blog-single.html" class="currency-text">
                {{post.price}}
              </a>
            </h1>
            <label class="inline-flex items-center cursor-pointer">
              <input type="checkbox" value="" class="sr-only peer" unchecked />
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="size-6 peer-checked:fill-red-500 peer-checked:stroke-red-500 transition"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"
                />
              </svg>
            </label>
          </div>
          <div class="mt-3 flex items-center justify-between text-xs">
            <p>{{post.created_at.date}}</p>
            <p>Блок D5(20)</p>
          </div>
        </div>
        {% endfor %}
      </div>

      <!-- col span 3  -->

      <div
        class="col-span-1 flex h-[560px] flex-col items-center justify-center rounded-xl bg-white shadow-md"
      ></div>
    </div>
    <script>
      window.addEventListener("load", function () {
        document.querySelectorAll(".currency-text").forEach((each) => {
          each.innerHTML = Intl.NumberFormat("de-DE", {
            style: "currency",
            currency: "KZT",
            maximumSignificantDigits: 10,
          }).format(each.innerHTML);
        });
      });
      function formatCurrency(value) {
        return Intl.NumberFormat("de-DE", {
          style: "currency",
          currency: "KZT",
          maximumSignificantDigits: 3,
        }).format(value);
      }

      window.formatCurrency = formatCurrency;
    </script>
  </body>
</html>
