{% extends 'dist/main.html' %} {% block content %}

<section class="container mx-auto my-10">
	<div class="mx-auto max-w-3xl rounded-lg bg-white p-8 shadow-lg">
		<h2 class="mb-8 text-center text-3xl font-bold">Your Profile</h2>

		<!-- Profile Picture -->
		<div class="mb-6 flex justify-center">
			<img
				src="/media/{{request.user.profile.image}}"
				alt="Profile Picture"
				class="h-32 w-32 rounded-full shadow-md img_part"
			/>
		</div>
		<form method="post" enctype="multipart/form-data" class="form_image" style="display: none;">
			{% csrf_token %}
			{{ form_image.as_p }}
			<button type="submit">Upload</button>
		</form>
		<!-- Profile Information Form -->
		<form action="{% url 'app:update-user-data'%}" method="POST">
			{% csrf_token %}
			<!-- Name -->
			<div class="mb-4">
				<label class="mb-2 block font-bold text-gray-700" for="name"
					>Username</label
				>
				<input
					class="w-full rounded-lg border px-3 py-2 focus:border-blue-500 focus:outline-none"
					type="text"
					id="name"
					name="username"
					placeholder="Enter your username"
					value="{{request.user.username}}"
					required
				/>
				
			</div>
			<div class="mb-4">
				<label class="mb-2 block font-bold text-gray-700" for="name"
					>First Name</label
				>
				<input
					class="w-full rounded-lg border px-3 py-2 focus:border-blue-500 focus:outline-none"
					type="text"
					id="name"
					name="first_name"
					placeholder="Enter your first name"
					value="{{request.user.first_name}}"
					required
				/>
				
			</div>
			<div class="mb-4">
				<label class="mb-2 block font-bold text-gray-700" for="name"
					>Last Name</label
				>
				<input
					class="w-full rounded-lg border px-3 py-2 focus:border-blue-500 focus:outline-none"
					type="text"
					id="name"
					name="last_name"
					placeholder="Enter your last name"
					value="{{request.user.last_name}}"
					required
				/>
				
			</div>

			<!-- Email -->
			<div class="mb-4">
				<label class="mb-2 block font-bold text-gray-700" for="email"
					>Email</label
				>
				<input
					class="w-full rounded-lg border px-3 py-2 focus:border-blue-500 focus:outline-none"
					type="email"
					id="email"
					name="email"
					placeholder="Enter your email"
					value="{{request.user.email}}"
					required
				/>
			</div>

			<!-- Phone -->
			<div class="mb-4">
				<label class="mb-2 block font-bold text-gray-700" for="phone"
					>Phone Number</label
				>
				<input
					class="w-full rounded-lg border px-3 py-2 focus:border-blue-500 focus:outline-none"
					type="text"
					id="phone"
					name="phone"
					placeholder="Enter your phone number"
					value="{{request.user.profile.contact}}"
					required
				/>
			</div>

			
			
			<!-- Submit Button -->
			<div class="text-center">
				<button
					class="rounded-lg bg-blue-600 px-6 py-3 font-bold text-white"
				>
					Update Profile
				</button>
			</div>
		</form>
	</div>
</section>
{% endblock content %}
{% block externals %}
<script>
	const previewImage = (el) => {
		document.querySelector('.img_part').src = URL.createObjectURL(el.files[0])
		document.querySelector('.form_image').submit()
	// URL.createObjectURL(el.files[i])
		
}
document.querySelector('.img_part').addEventListener('click', function () {
  document.getElementById('id_image').click();
	// alert()
});

</script>
{% endblock externals %}
